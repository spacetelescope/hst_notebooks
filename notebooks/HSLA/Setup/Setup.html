
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Installing the HASP/HSLA Spectral-Combination Script &#8212; HST Notebooks</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/table.css?v=cd6c26fb" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-2XDY0S4S5Q"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-2XDY0S4S5Q');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-2XDY0S4S5Q');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/HSLA/Setup/Setup';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Programmatic Replacements for NICMOS Units Conversion Form" href="../../NICMOS/nicmos_unit_conversion/nicmos_unit_conversion.html" />
    <link rel="prev" title="Introduction to the HSLA Data Products and Tools" href="../Intro/Intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/stsci_logo2.png" class="logo__image only-light" alt="HST Notebooks - Home"/>
    <script>document.write(`<img src="../../../_static/stsci_logo2.png" class="logo__image only-dark" alt="HST Notebooks - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    STScI HST Notebook Repository HQ
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">ACS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../ACS/README.html">ACS Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ACS/acs_findsat_mrt/acs_findsat_mrt_example.html">Satellite trail detection in ACS/WFC data using acstools.findsat_mrt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ACS/acs_saturation_trails/acs_saturation_trails.html">ACS Linearity with Saturated Stars</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ACS/acs_cte_forward_model/acs_cte_forward_model_example.html">Pixel-based ACS/WFC CTE Forward Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ACS/acs_subarrays/acs_subarrays.html">ACS Image Reduction for Subarray Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ACS/acs_sbc_dark_analysis/acs_sbc_dark_analysis.html">SBC Dark Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ACS/acs_reduction/acs_reduction.html">ACS/WFC Image Reduction</a></li>

<li class="toctree-l1"><a class="reference internal" href="../../ACS/acs_pixel_area_maps/acs_pixel_area_maps.html">ACS Pixel Area Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ACS/acs_polarization_tools/acs_polarization_tools.html">Using ACS Polarization Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ACS/acs_focus_diverse_epsfs/acs_focus_diverse_epsfs.html">Focus Diverse ePSFs for ACS/WFC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ACS/acs_exception_report/exception_report_checks.html">HST Exception Report - Investigate your ACS Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ACS/hst_orbits_ephem/hst_orbits_ephem.html">Getting HST Ephemeris and Related Data for an Observation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">COS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../COS/README.html">COS Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COS/Setup/Setup.html">Setting up your computer environment for working with COS data</a></li>





<li class="toctree-l1"><a class="reference internal" href="../../COS/DataDl/DataDl.html">Downloading COS Data</a></li>




<li class="toctree-l1"><a class="reference internal" href="../../COS/ViewData/ViewData.html">Viewing COS Data</a></li>





<li class="toctree-l1"><a class="reference internal" href="../../COS/AsnFile/AsnFile.html">Modifying or Creating an Association File</a></li>





<li class="toctree-l1"><a class="reference internal" href="../../COS/CalCOS/CalCOS.html">Running the COS Data Pipeline (<code class="docutils literal notranslate"><span class="pre">CalCOS</span></code>)</a></li>






<li class="toctree-l1"><a class="reference internal" href="../../COS/SplitTag/SplitTag.html">Splitting COS Exposures into sub-exposures with <code class="docutils literal notranslate"><span class="pre">splittag</span></code></a></li>







<li class="toctree-l1"><a class="reference internal" href="../../COS/DayNight/DayNight.html">Filtering out COS Data taken during the Day or Night</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COS/LSF/LSF.html">Working with the COS Line Spread Function (LSF)</a></li>

<li class="toctree-l1"><a class="reference internal" href="../../COS/Extract/Extract.html">Editing the extraction boxes in a spectral extraction file (<code class="docutils literal notranslate"><span class="pre">XTRACTAB</span></code>)</a></li>







<li class="toctree-l1"><a class="reference internal" href="../../COS/ExceptionReport/ExceptionReport.html">What to do when you get an Exception Report for COS</a></li>







</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">DrizzlePac</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../DrizzlePac/README.html">DrizzlePac Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DrizzlePac/using_updated_astrometry_solutions/using_updated_astrometry_solutions.html">Improving Astrometry Using Alternate WCS Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DrizzlePac/align_to_catalogs/align_to_catalogs.html">Aligning HST images to an Absolute Reference Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DrizzlePac/align_sparse_fields/align_sparse_fields.html">Aligning Deep Exposures of Sparse Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DrizzlePac/align_multiple_visits/align_multiple_visits.html">Optimizing Image Alignment for Multiple HST Visits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DrizzlePac/use_ds9_regions_in_tweakreg/use_ds9_regions_in_tweakreg.html">TWEAKREG Tips - Using DS9 Regions for Source Inclusion/Exclusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DrizzlePac/optimize_image_sampling/optimize_image_sampling.html">Optimizing the Image Sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DrizzlePac/align_mosaics/align_mosaics.html">Aligning HST Mosaics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DrizzlePac/sky_matching/sky_matching.html">Sky Matching for HST Mosaics <a id="top"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DrizzlePac/mask_satellite/mask_satellite.html">Satellite Trail Masking Techniques</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DrizzlePac/drizzle_wfpc2/drizzle_wfpc2.html">Drizzling new WFPC2 FLT data products with chip-normalization</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">HASP</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../HASP/README.html">HASP Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../HASP/Setup/Setup.html">Installing the Hubble Advanced Spectral Products Script</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../HASP/CoaddTutorial/CoaddTutorial.html">Inputting User Data using the Hubble Advanced Spectral Products Script</a></li>

<li class="toctree-l1"><a class="reference internal" href="../../HASP/FluxScaleTutorial/FluxScaleTutorial.html">Scaling Flux while using the Hubble Advanced Spectral Products Script</a></li>

<li class="toctree-l1"><a class="reference internal" href="../../HASP/DataDiagnostic/DataDiagnostics.html">HASP Data Diagnostic Notebook</a></li>




<li class="toctree-l1"><a class="reference internal" href="../../HASP/WavelengthAdjustment/WavelengthAdjustment.html">Wavelength Adjustments for Running the Hubble Advanced Spectral Products (HASP) Script</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">HSLA</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../README.html">HSLA Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../COSLifetimePositions/COSLifetimePositions.html">Combining COS Data from Multiple Lifetime Positions and Central Wavelengths</a></li>

<li class="toctree-l1"><a class="reference internal" href="../Intro/Intro.html">Introduction to the HSLA Data Products and Tools</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">Installing the HASP/HSLA Spectral-Combination Script</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">NICMOS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../NICMOS/nicmos_unit_conversion/nicmos_unit_conversion.html">Programmatic Replacements for NICMOS Units Conversion Form</a></li>


</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">STIS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../STIS/README.html">STIS Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../STIS/cross-correlation/cross-correlation.html">Correcting for Missing Wavecals with Cross-Correlation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../STIS/custom_ccd_darks/custom_ccd_darks.html">Custom CCD Darks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../STIS/drizpac_notebook/STIS_DrizzlePac_Tutorial.html">STIS DrizzlePac Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../STIS/CoronagraphyViz/STIS_Coronagraphy_Visualization_v2.html">STIS Coronagraphy Visualization Tool (v2)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../STIS/calstis/calstis_2d_ccd.html">Calstis 2-D CCD Data Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../STIS/target_acquisition/target_acquisition.html">Evaluating STIS Target Acquisitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../STIS/view_data/view_data.html">Viewing STIS Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../STIS/extraction/1D_Extraction.html">1D Spectra Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../STIS/low_count_uncertainties/Low_Count_Uncertainties.html">Low Count Uncertainties in STIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../STIS/contrast_sensitivity/STIS_Coronagraphic_Observation_Feasibility.html">STIS Coronagraphic Observation Feasibility</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">WFC3</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../WFC3/README.html">WFC3 Notebooks</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../WFC3/general_tools.html">General Tools</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/image_displayer_analyzer/wfc3_image_displayer_analyzer.html">WFC3 Image Displayer &amp; Analyzer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/exception_report/wfc3_exception_report.html">Exception Report Checklist - WFC3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/calwf3_v1.0_cte/calwf3_with_v1.0_PCTE.html">Processing WFC3/UVIS Data with <code class="docutils literal notranslate"><span class="pre">calwf3</span></code> Using the v1.0 CTE-Correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/persistence/wfc3_ir_persistence.html">Masking Persistence in WFC3/IR Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/uvis_g280_transit/G280_Exoplanet_Transits.html">Analyzing WFC3/UVIS G280 Exoplanet Transit Observations</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../WFC3/ir_tvb.html">WFC3/IR Time Variable Background (TVB)</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/ir_ima_visualization/IR_IMA_Visualization_with_an_Example_of_Time_Variable_Background.html">WFC3/IR IMA Visualization Tools with An Example of Time Variable Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/calwf3_recalibration/calwf3_recal_tvb.html">Manual Recalibration with calwf3: Turning off the IR Linear Ramp Fit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/tvb_flattenramp/TVB_flattenramp_notebook.html">Correcting for Helium Line Emission Background in IR Exposures using the “Flatten-Ramp” Technique</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/ir_scattered_light_calwf3_corrections/Correcting_for_Scattered_Light_in_IR_Exposures_Using_calwf3_to_Mask_Bad_Reads.html">Correcting for Scattered Light in WFC3/IR Exposures: Using <code class="docutils literal notranslate"><span class="pre">calwf3</span></code> to Mask Bad Reads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/ir_scattered_light_manual_corrections/Correcting_for_Scattered_Light_in_IR_Exposures_by_Manually_Subtracting_Bad_Reads.html">Correcting for Scattered Light in WFC3/IR Exposures: Manually Subtracting Bad Reads</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../WFC3/photometry.html">Photometry</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/filter_transformations/filter_transformations.html">WFC3/UVIS Filter Transformations with stsynphot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/flux_conversion_tool/flux_conversion_tool.html">Flux Unit Conversions with synphot and stsynphot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/photometry_examples/phot_examples.html">Synthetic Photometry Examples for WFC3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/uvis_time_dependent_photometry/uvis_timedep_phot.html">WFC3/UVIS Time-dependent Photometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/zeropoints/zeropoints.html">Calculating WFC3 Zeropoints with STSynphot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/uvis_pam_corrections/WFC3_UVIS_Pixel_Area_Map_Corrections_for_Subarrays.html">WFC3/UVIS Pixel Area Map Corrections for Subarrays</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../WFC3/point_spread_function.html">Point Spread Function (PSF)</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/point_spread_function/hst_point_spread_function.html">HST WFC3 Point Spread Function Modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../WFC3/mast_api_psf/download_psf_cutouts.html">Downloading WFC3 and WFPC2 PSF Cutouts from MAST</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/spacetelescope/hst_notebooks/blob/main/notebooks/HSLA/Setup/Setup.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/spacetelescope/hst_notebooks" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/spacetelescope/hst_notebooks/issues/new?title=Issue%20on%20page%20%2Fnotebooks/HSLA/Setup/Setup.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/notebooks/HSLA/Setup/Setup.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Installing the HASP/HSLA Spectral-Combination Script</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#this-notebook-is-designed-to-walk-you-through-downloading-installing-and-running-the-spectral-combination-script-used-by-the-hubble-advanced-spectral-products-hasp-and-the-hubble-spectral-legacy-archive-hsla"><span style="font-weight:normal">This Notebook is designed to walk you through downloading, installing, and running the spectral-combination script used by the <strong>Hubble Advanced Spectral Products (HASP)</strong> and the <strong>Hubble Spectral Legacy Archive (HSLA)</strong>.</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-goals">Learning Goals:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#table-of-contents">Table of Contents</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">0. Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downloading-and-installing-micromamba">1. Downloading and Installing <code class="docutils literal notranslate"><span class="pre">micromamba</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-micromamba">1.1 Installing <code class="docutils literal notranslate"><span class="pre">micromamba</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-the-stenv-environment">1.2 Creating the <code class="docutils literal notranslate"><span class="pre">stenv</span></code> Environment</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downloading-and-installing-the-hasp-hsla-script">2. Downloading and Installing the HASP/HSLA Script</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#option-a-using-pip">Option A, using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#option-b-using-git-clone">Option B, using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code>:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#after-you-ve-downloaded-the-code-using-option-a-or-b-run-this-command-to-download-the-script-s-dependencies">After you’ve downloaded the code using Option A or B, run this command to download the script’s dependencies:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-the-co-add-script">3. Running the Co-add Script</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#retrieving-the-data">3.1 Retrieving the Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#running-the-script">3.2 Running the Script</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#understanding-the-hasp-output-files">3.3 Understanding the HASP Output Files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#about-this-notebook">About this Notebook</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div style='background-color: #fff3cd; border: 1px solid #ffeaa7; border-radius: 4px; padding: 15px; margin: 10px 0; border-left: 4px solid #f39c12;'>
<h3 style='color: #856404; margin-top: 0;'>⚠️ EXECUTION WARNING</h3>
<p style='color: #856404; margin-bottom: 0;'><strong>This notebook may not execute properly in the current environment.</strong></p>
<p style='color: #856404; margin-bottom: 0;'>Some cells may have failed during automated testing. Please review the notebook content and test manually before use.</p>
<p style='color: #856404; margin-bottom: 0; font-size: 0.9em;'><em>Generated during CI/CD pipeline - some outputs may be incomplete or missing.</em></p>
</div>
<p><img alt="STScI Logo" src="../../../_images/stsci_header.png" /></p>
<section class="tex2jax_ignore mathjax_ignore" id="installing-the-hasp-hsla-spectral-combination-script">
<h1>Installing the HASP/HSLA Spectral-Combination Script<a class="headerlink" href="#installing-the-hasp-hsla-spectral-combination-script" title="Link to this heading">#</a></h1>
<section id="this-notebook-is-designed-to-walk-you-through-downloading-installing-and-running-the-spectral-combination-script-used-by-the-hubble-advanced-spectral-products-hasp-and-the-hubble-spectral-legacy-archive-hsla">
<h2><span style="font-weight:normal">This Notebook is designed to walk you through downloading, installing, and running the spectral-combination script used by the <strong>Hubble Advanced Spectral Products (HASP)</strong> and the <strong>Hubble Spectral Legacy Archive (HSLA)</strong>.</span><a class="headerlink" href="#this-notebook-is-designed-to-walk-you-through-downloading-installing-and-running-the-spectral-combination-script-used-by-the-hubble-advanced-spectral-products-hasp-and-the-hubble-spectral-legacy-archive-hsla" title="Link to this heading">#</a></h2>
</section>
<section id="learning-goals">
<h2>Learning Goals:<a class="headerlink" href="#learning-goals" title="Link to this heading">#</a></h2>
<p>By the end of this tutorial, you will:</p>
<ul class="simple">
<li><p>Learn how to download <code class="docutils literal notranslate"><span class="pre">micromamba</span></code> and create the <code class="docutils literal notranslate"><span class="pre">stenv</span></code> environment</p></li>
<li><p>Learn how to download and install the HASP/HSLA co-add script</p></li>
<li><p>Learn how to run the script</p></li>
<li><p>Understand the naming conventions of the co-added output files</p></li>
</ul>
</section>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Link to this heading">#</a></h2>
<p><strong>0. <a class="reference internal" href="#introduction"><span class="xref myst">Introduction</span></a></strong></p>
<p><strong>1. <a class="reference internal" href="#conda"><span class="xref myst">Downloading and Installing <code class="docutils literal notranslate"><span class="pre">micromamba</span></code></span></a></strong></p>
<p>- 1.1 <a class="reference internal" href="#installconda"><span class="xref myst">Installing <code class="docutils literal notranslate"><span class="pre">micromamba</span></code></span></a></p>
<p>- 1.2 <a class="reference internal" href="#createstenv"><span class="xref myst">Creating the <code class="docutils literal notranslate"><span class="pre">stenv</span></code> Environment</span></a></p>
<p><strong>2. <a class="reference internal" href="#downloadcode"><span class="xref myst">Downloading and Installing the HASP/HSLA Script</span></a></strong></p>
<p><strong>3. <a class="reference internal" href="#runscript"><span class="xref myst">Running the Co-add Script</span></a></strong></p>
<p>- 3.1 <a class="reference internal" href="#retrievedata"><span class="xref myst">Retrieving the Data</span></a></p>
<p>- 3.2 <a class="reference internal" href="#runscript"><span class="xref myst">Running the Script</span></a></p>
<p>- 3.3 <a class="reference internal" href="#inspectoutput"><span class="xref myst">Understanding the Output Files</span></a></p>
<p><a id = introduction></a></p>
</section>
<section id="introduction">
<h2>0. Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<p>The Hubble Advanced Spectral Products (HASP) and Hubble Spectroscopic Legacy Archive (HSLA) combine data taken with the Space Telescope Imaging Spectrograph (STIS) and the Cosmic Origins Spectrograph (COS) aboard the Hubble Space Telescope (HST) into high-quality spectra with broad wavelength coverage (from the ultraviolet to the near-infrared if the data exist) that are publicly available to the scientific community.  HASP combines all of the STIS and COS data for each target within a single program.  HSLA combines all of the STIS and COS data in the MAST archive – across multiple programs – into a single spectrum for each target.</p>
<p>The same script is used by both projects; it is available for use by observers who wish to produce custom products beyond those provided by HASP and HSLA through MAST.  Briefly, the code co-adds all of the spectra taken with the same grating, then splices together (or abuts) the spectra from multiple gratings into a single spectrum with the broadest possible wavelength range.  In particular, the script combines multiple orders from the STIS echelle modes and multiple central-wavelength settings for a single STIS or COS grating, tasks that that the current STIS and COS pipelines do not perform.  For a detailed explanation of the logic used to combine spectra, see the <a class="reference external" href="https://www.stsci.edu/files/live/sites/www/files/home/hst/instrumentation/cos/documentation/instrument-science-reports-isrs/_documents/ISR2024-01.pdf">HASP</a> and <a class="reference external" href="https://www.stsci.edu/files/live/sites/www/files/home/hst/instrumentation/cos/documentation/instrument-science-reports-isrs/_documents/COS_ISR_2025_18.pdf">HSLA</a> ISRs.</p>
<p>This notebook focuses on the installation of the co-add script and provides a quick overview of its use. To see an example of downloading COS and STIS datasets, running the script, and analyzing the output, please review the <a class="reference external" href="https://spacetelescope.github.io/hst_notebooks/notebooks/HASP/CoaddTutorial/CoaddTutorial.html">HASP Coadd Tutorial notebook</a>.  For an overview of the HSLA products, see the notebook, <a class="reference external" href="https://github.com/spacetelescope/hst_notebooks/tree/main/notebooks/HSLA/Intro/Intro.ipynb">Introduction to the HSLA Data Products and Tools</a>.</p>
<p><a id = conda></a></p>
</section>
<section id="downloading-and-installing-micromamba">
<h2>1. Downloading and Installing <code class="docutils literal notranslate"><span class="pre">micromamba</span></code><a class="headerlink" href="#downloading-and-installing-micromamba" title="Link to this heading">#</a></h2>
<p><a id = installconda></a></p>
<section id="installing-micromamba">
<h3>1.1 Installing <code class="docutils literal notranslate"><span class="pre">micromamba</span></code><a class="headerlink" href="#installing-micromamba" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Conda</span></code> is a package, dependency, and environment manager that runs on Windows, Mac, and Linux. <code class="docutils literal notranslate"><span class="pre">Conda</span></code> allows us to install Python packages and create isolated conda environments, each with its own packages and dependencies. By switching between <code class="docutils literal notranslate"><span class="pre">conda</span></code> environments, we avoid conflicts between different versions of packages.  <code class="docutils literal notranslate"><span class="pre">mamba</span></code> is a rewrite of conda that is much faster at resolving dependencies with near-parity of commands. <code class="docutils literal notranslate"><span class="pre">micromamba</span></code> is <code class="docutils literal notranslate"><span class="pre">mamba</span></code> packaged into a single binary, which makes installation and maintenance much easier. For these reasons, we recommended that you use <code class="docutils literal notranslate"><span class="pre">micromamba</span></code>.</p>
<p>We will create a <code class="docutils literal notranslate"><span class="pre">micromamba</span></code> environment to install the packages needed for the HASP/HSLA script. First check whether <code class="docutils literal notranslate"><span class="pre">micromamba</span></code> is already installed by running this command:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>micromamba<span class="w"> </span>--version
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.4.0
</pre></div>
</div>
</div>
</div>
<p>Running the command should print out the version of <code class="docutils literal notranslate"><span class="pre">micromamba</span></code> that you have installed (in this case, <code class="docutils literal notranslate"><span class="pre">micromamba</span> <span class="pre">2.3.0</span></code>). If the command returns a message saying that the package is unknown, then <code class="docutils literal notranslate"><span class="pre">micromamba</span></code> is not installed on your machine.</p>
<p>To install it, follow the directions for <code class="docutils literal notranslate"><span class="pre">micromamba</span></code> on the <a class="reference external" href="https://stenv.readthedocs.io/en/latest/getting_started.html"><code class="docutils literal notranslate"><span class="pre">Getting</span> <span class="pre">Started</span></code></a> page for <code class="docutils literal notranslate"><span class="pre">stenv</span></code>.  There are a couple of options.  One is to enter the following in a terminal window:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;$</span><span class="si">{SHELL}</span><span class="s2">&quot;</span> <span class="o">&lt;</span><span class="p">(</span><span class="n">curl</span> <span class="o">-</span><span class="n">L</span> <span class="n">micro</span><span class="o">.</span><span class="n">mamba</span><span class="o">.</span><span class="n">pm</span><span class="o">/</span><span class="n">install</span><span class="o">.</span><span class="n">sh</span><span class="p">)</span>
</pre></div>
</div>
<p>When you’re done, run the version command again to confirm that micromamba is installed.</p>
<p><a id = createstenv></a></p>
</section>
<section id="creating-the-stenv-environment">
<h3>1.2 Creating the <code class="docutils literal notranslate"><span class="pre">stenv</span></code> Environment<a class="headerlink" href="#creating-the-stenv-environment" title="Link to this heading">#</a></h3>
<p>The next step is to install the <code class="docutils literal notranslate"><span class="pre">stenv</span></code> environment, which contains all of the software packages used by the HASP/HSLA software.  Continue to follow the instructions on the <a class="reference external" href="https://stenv.readthedocs.io/en/latest/getting_started.html"><code class="docutils literal notranslate"><span class="pre">Getting</span> <span class="pre">Started</span></code></a> page for <code class="docutils literal notranslate"><span class="pre">stenv</span></code>.  It will direct you to the <a class="reference external" href="https://github.com/spacetelescope/stenv/releases"><code class="docutils literal notranslate"><span class="pre">Releases</span></code></a> page, from which you must retrieve the yaml file appropriate for your system.  Install the environment using the command</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>micromamba<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>stenv<span class="w"> </span>--file<span class="w"> </span>~/Downloads/stenv-Linux-X64-py3.13-2025.07.16.yaml
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">info     libmamba</span> ****************** Backtrace Start ******************
<span class=" -Color -Color-Cyan">debug    libmamba</span> Loading configuration
<span class=" -Color -Color-White">trace    libmamba</span> Compute configurable &#39;create_base&#39;
<span class=" -Color -Color-White">trace    libmamba</span> Compute configurable &#39;no_env&#39;
<span class=" -Color -Color-White">trace    libmamba</span> Compute configurable &#39;no_rc&#39;
<span class=" -Color -Color-White">trace    libmamba</span> Compute configurable &#39;rc_files&#39;
<span class=" -Color -Color-White">trace    libmamba</span> Compute configurable &#39;root_prefix&#39;
<span class=" -Color -Color-White">trace    libmamba</span> Get RC files configuration from locations up to HomeDir
<span class=" -Color -Color-White">trace    libmamba</span> Configuration found at &#39;/home/runner/work/_temp/setup-micromamba/.condarc&#39;
<span class=" -Color -Color-White">trace    libmamba</span> Update configurable &#39;no_env&#39;
<span class=" -Color -Color-White">trace    libmamba</span> Compute configurable &#39;envs_dirs&#39;
<span class=" -Color -Color-White">trace    libmamba</span> Compute configurable &#39;file_specs&#39;
<span class=" -Color -Color-Bold -Color-Bold-Red">error    libmamba</span> YAML spec file &#39;/home/runner/Downloads/stenv-Linux-X64-py3.13-2025.07.16.yaml&#39; not found
<span class=" -Color -Color-Bold -Color-Bold-BGRed">critical libmamba</span> File not found. Aborting.
<span class=" -Color -Color-Green">info     libmamba</span> ****************** Backtrace End ********************
</pre></div>
</div>
</div>
</div>
<p>(Replace the file name with that of the yaml file that you’ve just retrieved.)  This will take a few minutes.  Activate the new environment using the command</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>micromamba<span class="w"> </span>activate<span class="w"> </span>stenv
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Your parent process name is Name:	python.
If your shell is xonsh, please use &quot;-s xonsh&quot;.

&#39;micromamba&#39; is running as a subprocess and can&#39;t modify the parent shell.
Thus you must initialize your shell before using activate and deactivate.

To initialize the current bash shell, run:
    $ eval &quot;$(micromamba shell hook --shell bash)&quot;
and then activate or deactivate with:
    $ micromamba activate
To automatically initialize all future (bash) shells, run:
    $ micromamba shell init --shell bash --root-prefix=~/.local/share/mamba
If your shell was already initialized, reinitialize your shell with:
    $ micromamba shell reinit --shell bash
Otherwise, this may be an issue. In the meantime you can run commands. See:
    $ micromamba run --help

Supported shells are {bash, zsh, csh, posix, xonsh, cmd.exe, powershell, fish, nu}.
<span class=" -Color -Color-Bold -Color-Bold-BGRed">critical libmamba</span> Shell not initialized
</pre></div>
</div>
</div>
</div>
<p>Now that you have created and activated an <code class="docutils literal notranslate"><span class="pre">stenv</span></code> environment, you can download the co-add script.</p>
<p><a id = downloadcode></a></p>
</section>
</section>
<section id="downloading-and-installing-the-hasp-hsla-script">
<h2>2. Downloading and Installing the HASP/HSLA Script<a class="headerlink" href="#downloading-and-installing-the-hasp-hsla-script" title="Link to this heading">#</a></h2>
<p>Download the HASP/HSLA co-add script from <a class="reference external" href="https://github.com/spacetelescope/hasp">the HASP Github repository</a>.</p>
<p><strong>You only need to run one of the two options below, depending on your computer and Git settings.</strong>  (If you have no idea which option to choose, try Option A.  It will probably work.)</p>
<section id="option-a-using-pip">
<h3>Option A, using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:<a class="headerlink" href="#option-a-using-pip" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> clones the repository and installs the packages according to the setup configuration of the repository. You may need to create a Personal Access Token (PAT) to use instead of your Github account’s password, since support for password authentication was removed in 2021. You can learn how to create a PAT <a class="reference external" href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token">here</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/spacetelescope/hasp.git
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting git+https://github.com/spacetelescope/hasp.git
  Cloning https://github.com/spacetelescope/hasp.git to /tmp/pip-req-build-v7h_bt1v
  Running command git clone --filter=blob:none --quiet https://github.com/spacetelescope/hasp.git /tmp/pip-req-build-v7h_bt1v
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  Resolved https://github.com/spacetelescope/hasp.git to commit e0f5e8c82a45c0145dbb23579097647409dd0778
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  Installing build dependencies ... ?25l-
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> \
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> done
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>?25h  Getting requirements to build wheel ... ?25l-
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> done
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>?25h  Preparing metadata (pyproject.toml) ... ?25l-
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> done
?25hRequirement already satisfied: astropy&gt;=5.0.4 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from hasp==1.2.5) (7.2.0)
Requirement already satisfied: ullyses&gt;=4.1.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from hasp==1.2.5) (4.1.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: numpy&gt;=1.24 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astropy&gt;=5.0.4-&gt;hasp==1.2.5) (2.3.5)
Requirement already satisfied: pyerfa&gt;=2.0.1.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astropy&gt;=5.0.4-&gt;hasp==1.2.5) (2.0.1.5)
Requirement already satisfied: astropy-iers-data&gt;=0.2025.10.27.0.39.10 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astropy&gt;=5.0.4-&gt;hasp==1.2.5) (0.2025.12.1.0.45.12)
Requirement already satisfied: PyYAML&gt;=6.0.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astropy&gt;=5.0.4-&gt;hasp==1.2.5) (6.0.3)
Requirement already satisfied: packaging&gt;=22.0.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astropy&gt;=5.0.4-&gt;hasp==1.2.5) (25.0)
Requirement already satisfied: datetime in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (6.0)
Requirement already satisfied: cython in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (3.2.2)
Requirement already satisfied: ullyses-utils&gt;=3.1.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (3.1.0)
Requirement already satisfied: pandas&gt;2.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (2.3.3)
Requirement already satisfied: calcos&gt;=3.4.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (3.6.1)
Requirement already satisfied: costools in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (1.2.6)
Requirement already satisfied: stistools&gt;=1.4.2 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (1.4.6)
Requirement already satisfied: matplotlib in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (3.10.7)
Requirement already satisfied: plotly in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (6.5.0)
Requirement already satisfied: scipy&gt;=1.11.4 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (1.16.3)
Requirement already satisfied: stsci.tools&gt;=4.0.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from calcos&gt;=3.4.0-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (4.2.0)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from pandas&gt;2.0-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from pandas&gt;2.0-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from pandas&gt;2.0-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (2025.2)
Requirement already satisfied: six&gt;=1.5 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&gt;2.0-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (1.17.0)
Requirement already satisfied: pysiaf in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (0.25.0)
Requirement already satisfied: astroquery in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (0.4.11)
Requirement already satisfied: contourpy&gt;=1.0.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from matplotlib-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (1.3.3)
Requirement already satisfied: cycler&gt;=0.10 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from matplotlib-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (0.12.1)
Requirement already satisfied: fonttools&gt;=4.22.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from matplotlib-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (4.61.0)
Requirement already satisfied: kiwisolver&gt;=1.3.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from matplotlib-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (1.4.9)
Requirement already satisfied: pillow&gt;=8 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from matplotlib-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (12.0.0)
Requirement already satisfied: pyparsing&gt;=3 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from matplotlib-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (3.2.5)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: requests&gt;=2.19 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (2.32.5)
Requirement already satisfied: beautifulsoup4&gt;=4.8 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (4.14.3)
Requirement already satisfied: html5lib&gt;=0.999 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (1.1)
Requirement already satisfied: keyring&gt;=15.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (25.7.0)
Requirement already satisfied: pyvo&gt;=1.5 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (1.8)
Requirement already satisfied: soupsieve&gt;=1.6.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from beautifulsoup4&gt;=4.8-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (2.8)
Requirement already satisfied: typing-extensions&gt;=4.0.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from beautifulsoup4&gt;=4.8-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (4.15.0)
Requirement already satisfied: webencodings in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from html5lib&gt;=0.999-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (0.5.1)
Requirement already satisfied: SecretStorage&gt;=3.2 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (3.5.0)
Requirement already satisfied: jeepney&gt;=0.4.2 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (0.9.0)
Requirement already satisfied: importlib_metadata&gt;=4.11.4 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (8.7.0)
Requirement already satisfied: jaraco.classes in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (3.4.0)
Requirement already satisfied: jaraco.functools in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (4.3.0)
Requirement already satisfied: jaraco.context in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (6.0.1)
Requirement already satisfied: zipp&gt;=3.20 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from importlib_metadata&gt;=4.11.4-&gt;keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (3.23.0)
Requirement already satisfied: charset_normalizer&lt;4,&gt;=2 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from requests&gt;=2.19-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (3.4.4)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from requests&gt;=2.19-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (3.11)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from requests&gt;=2.19-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (2.5.0)
Requirement already satisfied: certifi&gt;=2017.4.17 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from requests&gt;=2.19-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (2025.11.12)
Requirement already satisfied: cryptography&gt;=2.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from SecretStorage&gt;=3.2-&gt;keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (46.0.3)
Requirement already satisfied: cffi&gt;=2.0.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from cryptography&gt;=2.0-&gt;SecretStorage&gt;=3.2-&gt;keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (2.0.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pycparser in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from cffi&gt;=2.0.0-&gt;cryptography&gt;=2.0-&gt;SecretStorage&gt;=3.2-&gt;keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (2.22)
Requirement already satisfied: zope.interface in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from datetime-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (8.1.1)
Requirement already satisfied: more-itertools in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from jaraco.classes-&gt;keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (10.8.0)
Requirement already satisfied: backports.tarfile in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from jaraco.context-&gt;keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (1.2.0)
Requirement already satisfied: narwhals&gt;=1.15.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from plotly-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (2.13.0)
Requirement already satisfied: lxml&gt;=4.6.4 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from pysiaf-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (6.0.2)
Requirement already satisfied: openpyxl&gt;=3.0.9 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from pysiaf-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (3.1.5)
Requirement already satisfied: et-xmlfile in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from openpyxl&gt;=3.0.9-&gt;pysiaf-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp==1.2.5) (2.0.0)
</pre></div>
</div>
</div>
</div>
</section>
<section id="option-b-using-git-clone">
<h3>Option B, using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code>:<a class="headerlink" href="#option-b-using-git-clone" title="Link to this heading">#</a></h3>
<p>While <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code> also downloads the repository, it differs from <code class="docutils literal notranslate"><span class="pre">pip</span></code> in that it also downloads all of the history and files of the repository. If you have a password-protected SSH key, rather than a PAT, you can clone the repo by running the following code in your terminal. If you want to setup a SSH key, you can learn how to do so <a class="reference external" href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">here</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:spacetelescope/hasp.git
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cloning into &#39;hasp&#39;...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>git@github.com: Permission denied (publickey).

fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</pre></div>
</div>
</div>
</div>
<p>This will install additional dependencies using the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file.</p>
</section>
<section id="after-you-ve-downloaded-the-code-using-option-a-or-b-run-this-command-to-download-the-script-s-dependencies">
<h3>After you’ve downloaded the code using Option A or B, run this command to download the script’s dependencies:<a class="headerlink" href="#after-you-ve-downloaded-the-code-using-option-a-or-b-run-this-command-to-download-the-script-s-dependencies" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>hasp
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: hasp in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (1.2.5)
Requirement already satisfied: astropy&gt;=5.0.4 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from hasp) (7.2.0)
Requirement already satisfied: ullyses&gt;=4.1.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from hasp) (4.1.0)
Requirement already satisfied: numpy&gt;=1.24 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astropy&gt;=5.0.4-&gt;hasp) (2.3.5)
Requirement already satisfied: pyerfa&gt;=2.0.1.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astropy&gt;=5.0.4-&gt;hasp) (2.0.1.5)
Requirement already satisfied: astropy-iers-data&gt;=0.2025.10.27.0.39.10 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astropy&gt;=5.0.4-&gt;hasp) (0.2025.12.1.0.45.12)
Requirement already satisfied: PyYAML&gt;=6.0.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astropy&gt;=5.0.4-&gt;hasp) (6.0.3)
Requirement already satisfied: packaging&gt;=22.0.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astropy&gt;=5.0.4-&gt;hasp) (25.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: datetime in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp) (6.0)
Requirement already satisfied: cython in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp) (3.2.2)
Requirement already satisfied: ullyses-utils&gt;=3.1.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp) (3.1.0)
Requirement already satisfied: pandas&gt;2.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp) (2.3.3)
Requirement already satisfied: calcos&gt;=3.4.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp) (3.6.1)
Requirement already satisfied: costools in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp) (1.2.6)
Requirement already satisfied: stistools&gt;=1.4.2 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp) (1.4.6)
Requirement already satisfied: matplotlib in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp) (3.10.7)
Requirement already satisfied: plotly in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp) (6.5.0)
Requirement already satisfied: scipy&gt;=1.11.4 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from ullyses&gt;=4.1.0-&gt;hasp) (1.16.3)
Requirement already satisfied: stsci.tools&gt;=4.0.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from calcos&gt;=3.4.0-&gt;ullyses&gt;=4.1.0-&gt;hasp) (4.2.0)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from pandas&gt;2.0-&gt;ullyses&gt;=4.1.0-&gt;hasp) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from pandas&gt;2.0-&gt;ullyses&gt;=4.1.0-&gt;hasp) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from pandas&gt;2.0-&gt;ullyses&gt;=4.1.0-&gt;hasp) (2025.2)
Requirement already satisfied: six&gt;=1.5 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&gt;2.0-&gt;ullyses&gt;=4.1.0-&gt;hasp) (1.17.0)
Requirement already satisfied: pysiaf in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (0.25.0)
Requirement already satisfied: astroquery in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (0.4.11)
Requirement already satisfied: contourpy&gt;=1.0.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from matplotlib-&gt;ullyses&gt;=4.1.0-&gt;hasp) (1.3.3)
Requirement already satisfied: cycler&gt;=0.10 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from matplotlib-&gt;ullyses&gt;=4.1.0-&gt;hasp) (0.12.1)
Requirement already satisfied: fonttools&gt;=4.22.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from matplotlib-&gt;ullyses&gt;=4.1.0-&gt;hasp) (4.61.0)
Requirement already satisfied: kiwisolver&gt;=1.3.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from matplotlib-&gt;ullyses&gt;=4.1.0-&gt;hasp) (1.4.9)
Requirement already satisfied: pillow&gt;=8 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from matplotlib-&gt;ullyses&gt;=4.1.0-&gt;hasp) (12.0.0)
Requirement already satisfied: pyparsing&gt;=3 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from matplotlib-&gt;ullyses&gt;=4.1.0-&gt;hasp) (3.2.5)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: requests&gt;=2.19 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (2.32.5)
Requirement already satisfied: beautifulsoup4&gt;=4.8 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (4.14.3)
Requirement already satisfied: html5lib&gt;=0.999 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (1.1)
Requirement already satisfied: keyring&gt;=15.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (25.7.0)
Requirement already satisfied: pyvo&gt;=1.5 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (1.8)
Requirement already satisfied: soupsieve&gt;=1.6.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from beautifulsoup4&gt;=4.8-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (2.8)
Requirement already satisfied: typing-extensions&gt;=4.0.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from beautifulsoup4&gt;=4.8-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (4.15.0)
Requirement already satisfied: webencodings in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from html5lib&gt;=0.999-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (0.5.1)
Requirement already satisfied: SecretStorage&gt;=3.2 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (3.5.0)
Requirement already satisfied: jeepney&gt;=0.4.2 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (0.9.0)
Requirement already satisfied: importlib_metadata&gt;=4.11.4 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (8.7.0)
Requirement already satisfied: jaraco.classes in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (3.4.0)
Requirement already satisfied: jaraco.functools in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (4.3.0)
Requirement already satisfied: jaraco.context in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (6.0.1)
Requirement already satisfied: zipp&gt;=3.20 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from importlib_metadata&gt;=4.11.4-&gt;keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (3.23.0)
Requirement already satisfied: charset_normalizer&lt;4,&gt;=2 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from requests&gt;=2.19-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (3.4.4)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from requests&gt;=2.19-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (3.11)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from requests&gt;=2.19-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (2.5.0)
Requirement already satisfied: certifi&gt;=2017.4.17 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from requests&gt;=2.19-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (2025.11.12)
Requirement already satisfied: cryptography&gt;=2.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from SecretStorage&gt;=3.2-&gt;keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (46.0.3)
Requirement already satisfied: cffi&gt;=2.0.0 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from cryptography&gt;=2.0-&gt;SecretStorage&gt;=3.2-&gt;keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (2.0.0)
Requirement already satisfied: pycparser in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from cffi&gt;=2.0.0-&gt;cryptography&gt;=2.0-&gt;SecretStorage&gt;=3.2-&gt;keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (2.22)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: zope.interface in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from datetime-&gt;ullyses&gt;=4.1.0-&gt;hasp) (8.1.1)
Requirement already satisfied: more-itertools in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from jaraco.classes-&gt;keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (10.8.0)
Requirement already satisfied: backports.tarfile in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from jaraco.context-&gt;keyring&gt;=15.0-&gt;astroquery-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (1.2.0)
Requirement already satisfied: narwhals&gt;=1.15.1 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from plotly-&gt;ullyses&gt;=4.1.0-&gt;hasp) (2.13.0)
Requirement already satisfied: lxml&gt;=4.6.4 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from pysiaf-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (6.0.2)
Requirement already satisfied: openpyxl&gt;=3.0.9 in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from pysiaf-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (3.1.5)
Requirement already satisfied: et-xmlfile in /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages (from openpyxl&gt;=3.0.9-&gt;pysiaf-&gt;stistools&gt;=1.4.2-&gt;ullyses&gt;=4.1.0-&gt;hasp) (2.0.0)
</pre></div>
</div>
</div>
</div>
<p><a id = runscript></a></p>
</section>
</section>
<section id="running-the-co-add-script">
<h2>3. Running the Co-add Script<a class="headerlink" href="#running-the-co-add-script" title="Link to this heading">#</a></h2>
<p><a id = retrievedata></a></p>
<section id="retrieving-the-data">
<h3>3.1 Retrieving the Data<a class="headerlink" href="#retrieving-the-data" title="Link to this heading">#</a></h3>
<p>The program operates on the following COS and STIS files:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://hst-docs.stsci.edu/cosdhb/chapter-2-cos-data-files/2-4-cos-data-products#:~:text=in%20the%20association.-,One%2DDimensional%20Extracted%20Spectra%20(x1d%2C%20x1dsum),-The%20COS%20pipeline">X1D</a> - the one-dimensional extracted product spectra.</p></li>
<li><p><a class="reference external" href="https://hst-docs.stsci.edu/stisdhb/chapter-2-stis-data-structure/2-2-types-of-stis-files#:~:text=corrected%20imaging%20data.-,_sx1,-table">SX1</a> - the one-dimensional extracted spectra from combined or cosmic-ray rejected images. This file is produced only for STIS data.</p></li>
</ul>
<p>Make sure that all of these files, for every spectrum that you wish to combine, are in the same directory. The script will combine only the files in this directory.</p>
<p><a id = runscript></a></p>
</section>
<section id="running-the-script">
<h3>3.2 Running the Script<a class="headerlink" href="#running-the-script" title="Link to this heading">#</a></h3>
<p>Now that you have retrieved your data, you can run the co-add script.  HASP (which does not combine data from multiple programs) and HSLA (which does) run the same script.  The difference is that HSLA calls the program with the -x argument, thus instructing the code to perform cross-program co-adds.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Command-line Option</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--input_directory</span></code> (<code class="docutils literal notranslate"><span class="pre">-i</span></code>)</p></td>
<td><p>The path to the directory that contains the data to be co-added (<em>required</em>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--output_directory</span></code> (<code class="docutils literal notranslate"><span class="pre">-o</span></code>)</p></td>
<td><p>The path to the directory that will contain the newly co-added products (<em>required</em>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--clobber</span></code> (<code class="docutils literal notranslate"><span class="pre">-o</span></code>)</p></td>
<td><p>If set, overwrite existing products</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--cross_program</span></code> (<code class="docutils literal notranslate"><span class="pre">-x</span></code>)</p></td>
<td><p>Create cross-program (HSLA) coadds (<em>optional</em>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--threshold</span></code> (<code class="docutils literal notranslate"><span class="pre">-t</span></code>)</p></td>
<td><p>The threshold for flux-based filtering (<em>optional; default is -50</em>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--snrmax</span></code> (<code class="docutils literal notranslate"><span class="pre">-s</span></code>)</p></td>
<td><p>The maximum SNR for flux-based filtering (<em>optional; default is 20</em>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--grating_table</span></code> (<code class="docutils literal notranslate"><span class="pre">-g</span></code>)</p></td>
<td><p>Name of custom grating priority table (<em>optional</em>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--no_keyword_filtering</span></code> (<code class="docutils literal notranslate"><span class="pre">-k</span></code>)</p></td>
<td><p>Disable keyword-based filtering (except for STIS PRISM data, which is always filtered) (<em>optional</em>)</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Note:</strong> If you wish to exclude any data files from the co-add, simply remove them from the input directory before running the script.</p>
<p>To run the HASP version of the code, open your terminal, activate your <code class="docutils literal notranslate"><span class="pre">micromamba</span></code> environment, and enter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">swrapper</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">YOUR_DATA_DIR</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">o</span> <span class="o">&lt;</span><span class="n">YOUR_PRODUCT_DIR</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The co-added spectra will be deposited in the output directory.</p>
<p><a id = inspectoutput></a></p>
</section>
<section id="understanding-the-hasp-output-files">
<h3>3.3 Understanding the HASP Output Files<a class="headerlink" href="#understanding-the-hasp-output-files" title="Link to this heading">#</a></h3>
<p>The HSLA script produces four sets of files for each target. First are the co-added spectra for each grating and visit:</p>
<p><code class="docutils literal notranslate"><span class="pre">hst_programID_instrument_targetname_grating_obset_cspec.fits</span></code>, where <code class="docutils literal notranslate"><span class="pre">obset</span></code> is a six-digit string like <code class="docutils literal notranslate"><span class="pre">O4A520</span></code></p>
<p>Second are the co-added spectra for each grating in the program:</p>
<p><code class="docutils literal notranslate"><span class="pre">hst_programID_instrument_targetname_grating_obset_cspec.fits</span></code>, where <code class="docutils literal notranslate"><span class="pre">obset</span></code> is a four-digit string like <code class="docutils literal notranslate"><span class="pre">O4A5</span></code></p>
<p>Third are the abutted spectra from multiple gratings for each visit:</p>
<p><code class="docutils literal notranslate"><span class="pre">hst_programID_instrument_targetname_allGratings_obset_cspec.fits</span></code></p>
<p>Fourth are the abutted spectra from multiple gratings for the entire program:</p>
<p><code class="docutils literal notranslate"><span class="pre">hst_programID_instrument_targetname_allGratings_cspec.fits</span></code></p>
<p>Here’s an example. These are the output files for a STIS GD71 dataset that is co-added in the <a class="reference external" href="https://spacetelescope.github.io/hst_notebooks/notebooks/HASP/CoaddTutorial/CoaddTutorial.html">HASP Coadd Tutorial notebook</a>. Here, the <code class="docutils literal notranslate"><span class="pre">programID</span></code> is <code class="docutils literal notranslate"><span class="pre">7656</span></code>, the <code class="docutils literal notranslate"><span class="pre">instrument</span></code> is <code class="docutils literal notranslate"><span class="pre">STIS</span></code>, and the <code class="docutils literal notranslate"><span class="pre">targetname</span></code> is <code class="docutils literal notranslate"><span class="pre">gd71</span></code>.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Set</p></th>
<th class="head"><p>Filename</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">hst_7656_stis_gd71_sg140l_o4a520_cspec.fits</span></code></p></td>
<td><p>Co-adding all <code class="docutils literal notranslate"><span class="pre">G140L</span></code> observations for visit <code class="docutils literal notranslate"><span class="pre">O4A520</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">hst_7656_stis_gd71_sg140l_o4a5_cspec.fits</span></code></p></td>
<td><p>Co-adding all <code class="docutils literal notranslate"><span class="pre">G140L</span></code> spectra for program <code class="docutils literal notranslate"><span class="pre">04A5</span></code></p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">hst_7656_stis_gd71_sg140l-sg230l-g430l-g750l_o4a520_cspec.fits</span></code></p></td>
<td><p>Abutting multiple gratings for visit <code class="docutils literal notranslate"><span class="pre">O4A520</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">hst_7656_stis_gd71_sg140l-sg230l-g430l-g750l_o4a5_cspec.fits</span></code></p></td>
<td><p>Abutting multiple gratings for all visits in program <code class="docutils literal notranslate"><span class="pre">O4A5</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>HST file naming conventions use a combination of three letters and numbers to create a unique association between a PI’s proposal ID and program ID, meaning that <code class="docutils literal notranslate"><span class="pre">o4a5</span></code> is essentially the program ID for our example. More information is available on the <a class="reference external" href="https://archive.stsci.edu/hlsp/ipppssoot.html">MAST HST file naming convention page</a>.</p>
<p>For an overview of the output files from the HSLA version of the code, please see the notebook, <a class="reference external" href="https://github.com/spacetelescope/hst_notebooks/tree/main/notebooks/HSLA/Intro/Intro.ipynb">Introduction to the HSLA Data Products and Tools</a>.</p>
</section>
</section>
<section id="about-this-notebook">
<h2>About this Notebook<a class="headerlink" href="#about-this-notebook" title="Link to this heading">#</a></h2>
<p><strong>Authors:</strong> Sierra Gomez (sigomez&#64;stsci.edu) and Van Dixon (dixon&#64;stsci.edu)</p>
<p><strong>Updated on:</strong> 10/27/2025</p>
<p><em>This tutorial was generated to be in compliance with the <a class="reference external" href="https://github.com/spacetelescope/style-guides">STScI style guides</a>.  We would like to cite the <a class="reference external" href="https://github.com/spacetelescope/style-guides/blob/master/templates/example_notebook.ipynb">Jupyter guide</a> in particular.</em></p>
<hr>
<img style="float: right;" src="https://raw.githubusercontent.com/spacetelescope/hst_notebooks/main/assets/stsci_pri_combo_mark_horizonal_white_bkgd.png" alt="Space Telescope Logo" width="200px"/> </section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "spacetelescope/hst_notebooks",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks/HSLA/Setup"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../Intro/Intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Introduction to the HSLA Data Products and Tools</p>
      </div>
    </a>
    <a class="right-next"
       href="../../NICMOS/nicmos_unit_conversion/nicmos_unit_conversion.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Programmatic Replacements for NICMOS Units Conversion Form</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#this-notebook-is-designed-to-walk-you-through-downloading-installing-and-running-the-spectral-combination-script-used-by-the-hubble-advanced-spectral-products-hasp-and-the-hubble-spectral-legacy-archive-hsla"><span style="font-weight:normal">This Notebook is designed to walk you through downloading, installing, and running the spectral-combination script used by the <strong>Hubble Advanced Spectral Products (HASP)</strong> and the <strong>Hubble Spectral Legacy Archive (HSLA)</strong>.</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-goals">Learning Goals:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#table-of-contents">Table of Contents</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">0. Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downloading-and-installing-micromamba">1. Downloading and Installing <code class="docutils literal notranslate"><span class="pre">micromamba</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-micromamba">1.1 Installing <code class="docutils literal notranslate"><span class="pre">micromamba</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-the-stenv-environment">1.2 Creating the <code class="docutils literal notranslate"><span class="pre">stenv</span></code> Environment</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downloading-and-installing-the-hasp-hsla-script">2. Downloading and Installing the HASP/HSLA Script</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#option-a-using-pip">Option A, using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#option-b-using-git-clone">Option B, using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code>:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#after-you-ve-downloaded-the-code-using-option-a-or-b-run-this-command-to-download-the-script-s-dependencies">After you’ve downloaded the code using Option A or B, run this command to download the script’s dependencies:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-the-co-add-script">3. Running the Co-add Script</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#retrieving-the-data">3.1 Retrieving the Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#running-the-script">3.2 Running the Script</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#understanding-the-hasp-output-files">3.3 Understanding the HASP Output Files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#about-this-notebook">About this Notebook</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By STScI
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022-2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>